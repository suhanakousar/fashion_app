Build a complete, production-ready web application for a small fashion designer (single-designer initially) with two clear roles: DESIGNER (admin) and CLIENT (public). The app must be mobile-friendly, fast, and deployable on free tiers (Supabase + Vercel). Deliver a working Git repo with README, deploy instructions, seed data, and sample credentials.

GOALS (business logic)
- Designer uploads and manages designs (multiple images per design, price, description, category).
- Clients browse the portfolio/gallery on mobile & desktop and can book a design (submit measurements, preferred date, contact info, upload reference images).
- Designer sees a client list; clicking a client opens their profile with all bookings, measurement history, billing ledger and totals (no paper notebook needed).
- Designer can add billing line items across several orders and see running totals and outstanding balance per client.
- Order lifecycle: Requested → Accepted → In Progress → Ready for Delivery → Delivered.
- WhatsApp integration: generate a prefilled WhatsApp message link for both client confirmation and admin quick-contact (no paid API).
- Export: CSV for clients and orders; PDF invoice generation per order.
- Notifications: dashboard highlights for new bookings (in-app). Optional email notifications (via free SMTP or Supabase functions).
- Security, input validation, file uploads to Supabase Storage (images & attachments).
- Backup: DB export instructions and a one-click CSV export.

FUNCTIONAL REQUIREMENTS (detailed)
1. Authentication & Roles
   - Supabase Auth for designer login (email + password).
   - Designer-only admin routes protected. No public signup for designers.
   - Public clients do not need accounts to book (but support optional client accounts for returning customers).

2. Database schema (Supabase/Postgres)
   - users (designer accounts): id, name, email, password_hash, created_at
   - designs: id, designer_id, title, description, price NUMERIC, category, created_at, is_published BOOLEAN
   - design_images: id, design_id, image_url, sort_order
   - clients: id, name, phone, whatsapp (optional), email, address, created_at
   - measurements: id, client_id, label, chest, waist, hips, shoulder, sleeve, length, notes, created_at
   - orders: id, client_id, design_id, designer_id, status ENUM, preferred_date, notes, created_at
   - order_files: id, order_id, file_url, file_type, created_at
   - billing_entries: id, order_id, client_id, description, amount NUMERIC, paid BOOLEAN, created_at
   - events/logs: id, user_id, event_type, payload JSONB, created_at

   Include SQL migration files or Supabase table definitions.

3. Frontend routes & UI (Next.js)
   PUBLIC:
   - / : homepage — gallery grid of published designs, search & filter by category, responsive.
   - /design/[id] : design detail with image carousel, price, description, “Book this design” CTA.
   - /book/[designId] : booking form (name, phone, email optional, preferred_date, measurements optional or link to measurement template, upload reference images, notes). On submit store order + client record. Show confirmation page + prefilled WhatsApp message link to contact designer.
   - /booking/confirm/[orderId] : booking confirmation & order summary.

   ADMIN (designer):
   - /admin/login
   - /admin/dashboard : summary cards (new requests, pending payments total, upcoming pickups), list of newest orders, calendar mini-view.
   - /admin/designs : create / edit / publish designs. Multi-image upload (drag & drop). Reorder images.
   - /admin/clients : searchable list (search by name/phone). Each item shows total spent & outstanding balance. Click → /admin/clients/[id]
   - /admin/clients/[id] : client profile page with contact, measurement history (add/edit), list of orders (click to open), billing ledger with total & outstanding, button to export client data (CSV), quick-reorder button to create new order using previous measurements.
   - /admin/orders : order list with filters (status, date range, outstanding balance). Click → /admin/orders/[id]
   - /admin/orders/[id] : order detail with design preview, client info, uploaded files, change status, add billing entries (multiple lines), record payments, generate PDF invoice button, mark delivered.
   - Settings page: business info, measurement templates, categories, backup/export.

4. UX specifics
   - Mobile-first: large touch targets, image carousel, simple booking form (minimize typing).
   - All images stored in Supabase Storage and served through signed URLs if necessary.
   - Booking form should validate phone number and require name + phone at minimum.
   - Measurement template: pre-defined fields; support "custom" measurements as key-value pairs.
   - When client books, if phone number matches an existing client, associate order with that client and prefill measurement suggestions.
   - Designer must be able to add billing line items across different orders; client profile shows aggregated total of all billing_entries where paid=false as outstanding.

5. WhatsApp integration
   - On booking confirmation page show a button: “Confirm via WhatsApp” which opens https://wa.me/<phone>?text=<urlencoded message>
   - Message template includes design title, order id, basic measurements, and a polite confirmation text.
   - Provide admin shortcut to open WhatsApp web prefilled message to contact client.

6. Export / Reports
   - CSV export endpoints for clients and orders.
   - PDF invoice generation per order with business header, client details, billing table, totals, signature line. Download & print ready.

7. Notifications / Alerts
   - In-app notification center for admin (new booking, payment recorded, order status changed).
   - Optional: email notifications via Supabase Edge Function or SMTP for new bookings.

8. Testing & QA
   - Unit tests for core APIs (create order, create client, billing total calc).
   - End-to-end tests covering booking flow, admin order update, invoice generation (use Playwright or Cypress).
   - Include manual QA checklist.

9. Deployment & hosting
   - Provide instructions to deploy frontend to Vercel (free tier).
   - Setup Supabase project for DB, Auth, and Storage. Include the .env variables and migration SQL.
   - CI: GitHub Actions workflow for test & deploy on push to main.

10. Deliverables (must include)
   - Git repository with clean commits and README that explains setup, environment variables, and deployment steps.
   - Supabase migration SQL or instructions to create tables.
   - Seed script that creates sample designer, 8 designs with images, 6 clients with measurement histories, and 10 orders in various statuses.
   - API docs (OpenAPI spec or Swagger) for core endpoints: /api/designs, /api/book, /api/admin/orders, /api/admin/clients, /api/admin/billing, /api/export.
   - E2E tests and unit tests runnable with `npm test` or `yarn test`.
   - A deployed public demo URL (if possible) and admin creds for testing.

11. Acceptance criteria (what "working" means)
   - Designer can login and create/edit designs with multiple images and publish a design.
   - Client (no-account) can browse designs, open details, and submit a booking with measurements and optional uploads.
   - Booking appears in admin dashboard; admin can open client profile and see all bookings and measurements.
   - Admin can add billing entries per order; client profile shows running total and outstanding balance correctly.
   - PDF invoice can be generated and downloaded for any order; CSV export of clients & orders works.
   - WhatsApp prefill link opens with correct encoded message and order details.
   - App is responsive and works well on mobile devices.

12. Security & privacy
   - Never expose service_role or admin keys to frontend.
   - Validate & sanitize file uploads; limit allowed types & sizes.
   - Rate-limit booking creation endpoints to avoid spam.
   - Data retention and backup instructions in README (how to export DB).

13. Design & UI hints
   - Use Tailwind CSS and keep a clean minimal boutique look: large imagery, soft shadows, rounded cards.
   - Clear status badges for orders (colored labels).
   - Use icons for actions (book, invoice, export) and provide confirmations for destructive actions.

14. Performance & cost
   - Optimize image sizes (auto thumbnails) and use lazy loading.
   - Use Supabase free tier constraints in mind (small scale app).

15. Extras (bonus)
   - Optional client accounts for repeat customers to view order history.
   - Simple calendar view for appointments (FullCalendar) with ability to block slots.
   - Multi-designer support scaffold (tenant_id) to allow future growth.

Please produce inside the repository:
- `frontend/` Next.js app
- `backend/` (if needed) any edge functions or API routes
- `migrations/` SQL
- `seed/` sample data and instructions
- `README.md` with step-by-step deploy, env vars, running tests, and admin creds for demo

When you finish, provide:
- Demo site link (deployed)
- Supabase project export / SQL for tables
- Admin login: email / password for testing
- Short video (screen recording) showing the full booking flow (optional)

Build it exactly to these specs and confirm each acceptance criteria with automated tests. Thank you.
